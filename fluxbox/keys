# 鼠标操作配置
# fluxbox-update_configs added '(workspace=[current])' to (Next|Prev)(Window|Group)
# check lines marked by 'FBCV13' if they are correctly updated
# mouse actions added by fluxbox-update_configs
# 标题栏左键单击：聚焦窗口、置顶窗口、激活标签页
OnTitlebar Mouse1 :MacroCmd {Focus} {Raise} {ActivateTab}
# 标题栏拖动：移动窗口
OnTitlebar Move1 :StartMoving
# 左侧窗口角拖动：调整窗口大小（向左下角）
OnLeftGrip Move1 :StartResizing bottomleft
# 右侧窗口角拖动：调整窗口大小（向右下角）
OnRightGrip Move1 :StartResizing bottomright
# 窗口边框拖动：移动窗口
OnWindowBorder Move1 :StartMoving
# 标题栏中键点击：合并窗口标签（Tabbing）
OnTitlebar Mouse2 :StartTabbing
# 标题栏双击：收起窗口（Shade）
OnTitlebar Double Mouse1 :Shade
# 标题栏右键点击：弹出窗口菜单
OnTitlebar Mouse3 :WindowMenu
# 按住 Alt 并拖动左键：移动窗口
OnWindow Mod1 Mouse1 :MacroCmd {Raise} {Focus} {StartMoving}
# 按住 Alt 并拖动右键：调整窗口大小（从右下角调整）
OnWindow Mod1 Mouse3 :MacroCmd {Raise} {Focus} {StartResizing BottomRight}
# 桌面左键点击：隐藏菜单
OnDesktop Mouse1 :hideMenus
# 桌面中键点击：弹出工作区菜单
OnDesktop Mouse2 :workspaceMenu
# 桌面右键点击：弹出主菜单
OnDesktop Mouse3 :rootMenu


# 窗口切换
# Alt + Tab 切换到下一个窗口（在当前工作区）
Mod1 Tab :NextWindow (workspace=[current])
# Alt + Shift + Tab 切换到上一个窗口（在当前工作区）
Mod1 Shift Tab :PrevWindow (workspace=[current])
Mod4 Tab :Exec rofi -show window


# Alt + 1-6 切换到对应的工作区
Mod1 Shift 1 :Workspace 1
Mod1 Shift 2 :Workspace 2
Mod1 Shift 3 :Workspace 3
Mod1 Shift 4 :Workspace 4
# Mod1 Shift 5 :Workspace 5
# Mod1 Shift 6 :Workspace 6
# change to a specific workspace
#Mod1 1 :ExecCommand wmctrl -s 0
#Mod1 2 :ExecCommand wmctrl -s 1
#Mod1 3 :ExecCommand wmctrl -s 2
#Mod1 4 :ExecCommand wmctrl -s 3
#Mod1 5 :ExecCommand wmctrl -s 4
#Mod1 6 :ExecCommand wmctrl -s 5


# 窗口管理
# Alt + F4 关闭窗口
Mod1 F4 :Close
# Win + Shift + f 全屏窗口
Mod4 Shift f :Fullscreen
# Alt + F2 切换窗口装饰（边框、标题栏）
Mod1 F2 :ToggleDecor
# Win + Shift + k 关闭窗口（Kill）
Mod1 Shift k :Kill
# Win + 上/下 最大化、最小化窗口
Mod4 Up :MaximizeWindow
Mod4 Down :MinimizeWindow
# Win + 左/右 收起/展开窗口
Mod4 Left :ShadeOn
Mod4 Right :ShadeOff
# Win + h/v 水平/垂直最大化窗口
Mod4 h :MaximizeHorizontal
Mod4 v :MaximizeVertical


# Fluxbox 控制
# Alt + Win + r 重新启动 Fluxbox
Mod1 Mod4 r :Restart
# Alt + Win + Esc 退出 Fluxbox
Mod1 Mod4 Escape :Exit
# Alt + F1 打开主菜单
Mod1 F1 :RootMenu
# Mod1 Shift m :RootMenu


# 应用程序快捷键
# Alt + q 打开终端（Gnome Terminal）
Mod1 q :ExecCommand gnome-terminal
# Alt + Shift + q 打开 Xfce4 终端
Mod1 Shift q :ExecCommand xfce4-terminal
# Alt + Shift + w 打开系统监视器
Mod1 Shift w :ExecCommand gnome-system-monitor
# Alt + Shift + e 打开文件管理器（Nautilus）
# Mod1 Shift e :ExecCommand nautilus
Mod1 Shift e :ExecCommand nautilus --no-desktop
# Alt + Shift + r 打开浏览器（Firefox）
Mod1 Shift r :ExecCommand firefox
# Alt + Shift + l 取消所有打印任务
Mod1 Shift l :ExecCommand gnome-terminal -- "~/.fluxbox/scripts/custom/Cancel_All_Print_Task.sh"

# Ctrl + Alt 上／下个工作区
Mod1 Control Left :PrevWorkspace
Mod1 Control Right :NextWorkspace

# 窗口布局
# Win + Shift + 上下左右：窗口半屏排列
Mod4 Shift Up :MacroCmd {ResizeTo 100% 50%} {MoveTo 00 00 Up}
Mod4 Shift Left :MacroCmd {ResizeTo 50% 100%} {MoveTo 00 00 Left}
Mod4 Shift Right :MacroCmd {ResizeTo 50% 100%} {MoveTo 00 00 Right}
Mod4 Shift Down :MacroCmd {ResizeTo 100% 50%} {MoveTo 00 00 Bottom}

# Win + Shift + Q/W/A/S ：窗口移动到四个角落并缩放到 1/4 屏幕大小
Mod4 Shift Q :MacroCmd {MoveTo 0 0} {ResizeTo 50% 50%}
Mod4 Shift w :MacroCmd {MoveTo 50% 0} {ResizeTo 50% 50%}
Mod4 Shift a :MacroCmd {MoveTo 0 50%} {ResizeTo 50% 50%}
Mod4 Shift s :MacroCmd {MoveTo 50% 50%} {ResizeTo 50% 50%}

# 缩小居中
Mod4 Shift c :MacroCmd {MoveTo 30% 30%} {ResizeTo 50% 50%}

# 窗口自动排列 Win + 1-5: 不同排列方式
Mod4 1 :ArrangeWindows  # 自动排列窗口
Mod4 2 :ArrangeWindowsVertical  # 垂直排列
Mod4 3 :ArrangeWindowsHorizontal  # 水平排列
Mod4 4 :ArrangeWindowsHorizontal (Name=[current])  # 仅当前窗口组
Mod4 5 :ArrangeWindowsVertical (Name=[current])  # 仅当前窗口组（垂直）

# Win + Shift + 方向键 调整当前窗口大小
Mod4 Mod1 Left  :Resize -10% 0
Mod4 Mod1 Right :Resize +10% 0
Mod4 Mod1 Up    :Resize 0 -10%
Mod4 Mod1 Down  :Resize 0 +10%

# 屏幕亮度控制
# (brightnessctl set +10%)
# sudo apt install brightnessctl
# Control Mod4 Left :ExecCommand brightnessctl set 5%-
# Control Mod4 Right :ExecCommand brightnessctl set +5%
# 使用 xrandr 调整亮度
Control Mod4 Left :ExecCommand ~/.fluxbox/scripts/brightnessControl/xrandrBrightnessControl.sh 0
Control Mod4 Right :ExecCommand ~/.fluxbox/scripts/brightnessControl/xrandrBrightnessControl.sh 1
# 使用ddcutil
# Control Mod4 Left :ExecCommand ~/.fluxbox/scripts/brightnessControl/ddcutilBrightnessControl.sh 0
# Control Mod4 Right :ExecCommand ~/.fluxbox/scripts/brightnessControl/ddcutilBrightnessControl.sh 1

# 截屏
# Print 截屏（使用 ksnip）
# 或者scrot
# Print :ExecCommand ksnip
Print :ExecCommand scrot
# Mod1 Shift s :ExecCommand kylin-screenshot gui
Mod1 Shift s :ExecCommand flameshot gui

# Win + L 锁屏（使用 i3lock）
Mod4 l :ExecCommand i3lock
# Mod4 l :ExecCommand dm-tool lock

# 挂载
# Mod1 Shift m :ExecCommand gnome-terminal -- "/home/ryan/.mountBA"
# 杀死WPS
# Mod1 Shift n :ExecCommand sudo pkill wps && sudo pkill et

# 其他
# Win + d 显示桌面
Mod4 d :ShowDesktop
# Win + a 打开应用程序查找器（Xfce4 App Finder）
Mod4 a :ExecCommand xfce4-appfinder


